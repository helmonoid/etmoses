%nav.navbar.navbar-default
  .container
    .navbar-header
      %a.navbar-brand{:href => "/"} Local Energy Solutions Calculator
      %ul.nav.navbar-nav
        %li.dropdown
          %a.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "dropdown", :href => "#", :role => "button"}
            Local Energy Solutions
            %span.caret
          %ul.dropdown-menu{:role => "menu"}
            %li
              = link_to 'More information', 'https://github.com/quintel/etmoses/wiki/Local-Energy-Solutions', target: '_blank'
            %li.divider
            %li
              = link_to 'Import from ETM', import_testing_grounds_path
            %li.divider
            %li
              = link_to 'Show all', testing_grounds_path
            %li.divider
            %li.dropdown-header
              Recent scenarios&hellip;
            - recent_testing_grounds.each_with_index do |testing_ground, index|
              %li
                = link_to testing_ground_path(testing_ground) do
                  = "#{index + 1}."
                  = truncate(testing_ground.name, length: 30)

        %li.dropdown
          %a.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "dropdown", :href => "#", :role => "button"}
            Profiles
            %span.caret
          %ul.dropdown-menu{:role => "menu"}
            %li
              = link_to 'More information', 'https://github.com/quintel/etmoses/wiki/Profiles', target: '_blank'
            %li.divider
            %li
              = link_to 'Create new load profile', new_load_profile_path
              = link_to 'Create new financial profile', new_price_curve_path
              = link_to 'Create new behavior profile', new_behavior_profile_path
            %li.divider
            %li
              = link_to 'Show all', profiles_path

        %li.dropdown
          %a.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "dropdown", :href => "#", :role => "button"}
            Topologies
            %span.caret
          %ul.dropdown-menu{:role => "menu"}
            %li
              = link_to 'More information', 'https://github.com/quintel/etmoses/wiki/Topologies', target: '_blank'
            %li.divider
            %li
              = link_to 'Create new template', new_topology_template_path
            %li.divider
            %li
              = link_to 'Show all', topology_templates_path

        %li.dropdown
          %a.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "dropdown", :href => "#", :role => "button" }
            Market Models
            %span.caret
          %ul.dropdown-menu{:role => "menu"}
            %li
              = link_to 'More information', 'https://github.com/quintel/etmoses/wiki/Market-models', target: '_blank'
            %li.divider
            %li
              = link_to 'Create new market model', new_market_model_template_path
            %li.divider
            %li
              = link_to 'Show all', market_model_templates_path

        %li.dropdown
          %a.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "dropdown", :href => "#", :role => "button" }
            Information
            %span.caret
          %ul.dropdown-menu{:role => "menu"}
            %li
              = link_to 'How to use', 'https://github.com/quintel/etmoses/wiki/Quick-start-guide', target: '_blank'
            %li.divider
            %li
              = link_to 'Documentation', 'https://github.com/quintel/etmoses/wiki', target: '_blank'
            %li.divider
            %li
              = link_to 'About Quintel', 'http://quintel.com', target: '_blank'

    .pull-right.btn-group.user-actions
      - if current_user
        = link_to "Your account", edit_user_registration_path, class: "btn btn-default btn-sm", title: "Signed in as: #{current_user.email}"
        = link_to "Sign out", destroy_user_session_path, method: :delete, class: "btn btn-default btn-sm", title: "Sign out of ETMoses"
      - else
        = link_to "Sign in", new_user_session_path, class: "btn btn-primary btn-sm"

